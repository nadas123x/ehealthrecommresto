

{% extends 'website/basic.html' %}
{% block title%} Recommendation {% endblock %}
  

 {% block css %} 

 input{
 background-color:green;
 margin-bottom:10px;
 color:white;
 }
 .col{
 background-color:white;
 }
 
 pre{
 font-size:18px;
 font-family:bold;
 color:red;
 }
 
 body{
    background-color:#1c1b1a;
 }
 @import url('https://fonts.googleapis.com/css?family=Abel|Aguafina+Script|Artifika|Athiti|Condiment|Dosis|Droid+Serif|Farsan|Gurajada|Josefin+Sans|Lato|Lora|Merriweather|Noto+Serif|Open+Sans+Condensed:300|Playfair+Display|Rasa|Sahitya|Share+Tech|Text+Me+One|Titillium+Web');



#container{
	box-shadow: 0 10px 30px 1px rgba(128, 128, 128, 0.31);
	background: rgba(255, 255, 255, 0.90);
	text-align: center;
	border-radius: 5px;
	overflow: hidden;
    margin-left: 20px;
    display: inline-block;
    margin-top: 12%;
	margin: 2em auto;
	height: 280px;
	width: 550px;
	
}



/* 	Product details  */
.product-details {
	position: relative;
	text-align: left;
    margin-top: -5%;

	overflow: hidden;
	padding: 30px;
	height: 100%;
	float: left;
	width: 40%;

}

/* 	Product Name */
#container .product-details h1{
	font-family: 'Old Standard TT', serif;
	display: inline-block;
	position: relative;
	font-size: 24px;
	color: #344055;
	margin: 0;
	
}

#container .product-details h1:before{
	position: absolute;
	content: '';
	right: 0%; 
	top: 0%;
	transform: translate(25px, -15px);
	font-family: 'Farsan', cursive;
	display: inline-block;
	background: #FFA69E;
	border-radius: 5px;
	font-size: 14px;
	padding: 5px;
	color: #FFF;
	margin: 0;
	animation: chan-sh 6s ease infinite;

}


@keyframes chan-sh {
	from  {content: 'free shipping';}
	to  {content: 'New';}
	
}

/*Product Rating  */
.hint-star {
	display: inline-block;
	margin-left: 0.5em;
	color: gold;
	width: 50%;
}


/* The most important information about the product */
#container .product-details > p {
	font-family: 'Farsan', cursive;
	text-align: center;
	font-size: 20px;
	color: #7d7d7d;
	
}

/* control */

.control{
	position: absolute;
	bottom: 20%;
	left: 22.8%;
	
}
/* the Button */
.btn {
	transform: translateY(0px);
	transition: 0.3s linear;
	background: #49C608;
	border-radius: 5px;
  position: relative;
  overflow: hidden;
	cursor: pointer;
	outline: none;
	border: none;
	color: #eee;
	padding: 0;
	margin: 0;
	
}

.btn:hover{transform: translateY(-4px);}

.btn span {
	font-family: 'Farsan', cursive;
	transition: transform 0.3s;
	display: inline-block;
  padding: 10px 20px;
	font-size: 1.2em;
	margin:0;
	
}
/* shopping cart icon */
.btn .price, .shopping-cart{
	background: #333;
	border: 0;
	margin: 0;
}

.btn .price {
	transform: translateX(-10%); padding-right: 15px;
}

/* the Icon */
.btn .shopping-cart {
	transform: translateX(-100%);
  position: absolute;
	background: #333;
	z-index: 1;
  left: 0;
  top: 0;
}

/* buy */
.btn .buy {z-index: 3; font-weight: bolder;}

.btn:hover .price {transform: translateX(-110%);}

.btn:hover .shopping-cart {transform: translateX(0%);}



/* product image  */
.product-image {
	transition: all 0.3s ease-out;
	display: inline-block;
	position: relative;
	overflow: hidden;
	height: 100%;
	float: right;
	width: 50%;
	display: inline-block;
}

#container img {width: 100%;height: 100%;}

.info {
    background: rgba(27, 26, 26, 0.9);
    font-family: 'Farsan', cursive;
    transition: all 0.3s ease-out;
    transform: translateX(-100%);
    position: absolute;
    line-height: 1.9;
    text-align: left;
    font-size: 120%;
    cursor: no-drop;
    color: #FFF;
    height: 100%;
    width: 100%;
    left: 0;
    top: 0;
}

.info h2 {text-align: center}
.product-image:hover .info{transform: translateX(0);}

.info ul li{transition: 0.3s ease;}
.info ul li:hover{transform: translateX(50px) scale(1.3);}

.product-image:hover img {transition: all 0.3s ease-out;}
.product-image:hover img {transform: scale(1.2, 1.2);}
 
 {% endblock %}

        {% block homeurl %} "\"{% endblock %}
        {% block abouturl %} "\meal/" {% endblock %}
        {% block contacturl %} "\contact/" {% endblock %}
        {% block contactshowurl %} "\contactshow/" {% endblock %}
        {% block orderurl %} "\order/" {% endblock %}
        {% block mealaffichurl %} "\mealaffich/" {% endblock %}


        
        {% block mealactive %} active {% endblock %}

   
{% block body %}


    
    



<form id="myForm" action="\buy/" method="post">
{% csrf_token %}
    <input id="inpt" style="display:none" type="text" name="product_buy">
</form>
<div id="purchasebtn" style="visibility:hidden" class="text-right"><button style="width:25%;font-size:20px" class="btn btn-primary p-2" onclick="submit()">Save All Purchases</button></div>

{% load static %}



    {% for meal in meal %}

    {% if meal.Veg_Non == 'veg' and meal.Price >= '500' and meal.id >= 500 %}
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <div id="container">	
	
        <!-- Start	Product details -->
  <div class="product-details">
                
                <!-- 	Product Name -->
            <h3 id="name{{ id }}" class="my-3" style="color:rgb(121, 118, 88); font-size: 22px;">{{meal.Name}}</h3>
            <h5 style="color:rgb(10, 10, 10)">Category :- {{meal.Catagory}}</h5>
            <td><p><pre style="color:rgb(17, 17, 17);font-size:20px">{{meal.Catagory}}   {{meal.Nutrient}}</pre></p></td> 

            <td>
        		{% if meal.Veg_Non == 'veg' %}
            		<img style="width:30px;height:30px" src="{% static 'front/images/723633.png'%}"><font style="font-weight:bold;font-size:17px;color:rgba(75, 102, 72, 0.897)">   Veg</font>
            	{% else %}
                	<img style="width:50px;height:50px" src="{% static 'front/images/nveg.png'%}"><font style="font-weight:bold;font-size:17px;color:rgb(36, 36, 37)">Non-Veg</font>
                {% endif %}
           </td>
<br>
<br>
           <button style="display:none;"  id="cancel-{{id}}" class="cancel btn btn-danger mb-3" value="{{ id }}">Cancel</button>
           <button id="buy-{{id}}" class="buy btn btn-success mb-3" value="{{ id }}">  
               <span class="price">{{meal.Price}} Dh</span>
               <span class="shopping-cart"><i class="fa fa-shopping-cart" aria-hidden="false"></i></span>
   
           </button>
        <!-- 		<span class="hint new">New</span> -->
        <!-- 		<span class="hint free-shipping">Free Shipping</span> -->
        <!-- 		the Product rating -->
            <span class="hint-star star">
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star-o" aria-hidden="true"></i>

            </span>
                
            
        <!-- The most important information about the product -->
                <p class="information"></p>
        
                
                
        <!-- 		Control -->
      
                    
        </div>
            
        <!-- 	End	Product details   -->
            
            
            
        <!-- 	Start product image & Information -->
            
        <div class="product-image">
            {% if meal.Name == 'tricolour salad' %}
            <img src="https://www.nicepng.com/png/detail/124-1244916_thai-grain-bowl-gluten-free-diet.png" alt="Omar Dsoky">
            {% elif meal.Name == 'summer squash salad' %}
            <img src="https://www.nicepng.com/png/detail/315-3158555_greens-bowls-kale-caesar-chicken-gluten-free-diet.png" alt="Omar Dsoky">
            {% elif meal.Name == 'chicken minced salad' %}
          
            <img src="https://www.nicepng.com/png/detail/303-3036596_grilled-chicken-caesar-grilled-chicken-caesar-salad-png.png " alt="Omar Dsoky">
            {% elif meal.Name == 'coconut lime quinoa salad' %}
            <img src="https://www.nicepng.com/png/detail/28-282751_mcdonalds-grilled-chicken-salad-grilled-chicken-and-bacon.png" alt="Omar Dsoky">
            {% elif meal.Name == 'hawaiin papaya salad' %}
            <img src="https://cookingwithlane.com/wp-content/uploads/2019/12/thai-vs-lao-papaya-salad-001-720x405.jpg
            " alt="Omar Dsoky">
            {% else %}
            <img src="https://www.nicepng.com/png/detail/124-1244916_thai-grain-bowl-gluten-free-diet.png" alt="Omar Dsoky">


        {% endif %}        <!-- 	product Information-->
        <div class="info">
            <br>
            <h2 style="font-size:22px;">The Description</h2>
            <ul>
                <p style="font-size:15px;">{{meal.description}}</p>
            </ul>
        </div>
        </div>
        <!--  End product image  -->
        
        
        </div>
   
	</div>
    {% endif %}

    {% endfor %}


</div>
  
</div>

<script>

function submit() 
{
      let sum = "";
      for (let salary of Object.values(ids)) {
        sum = sum + salary+" ";
      }   
      console.log(sum);
      
      document.getElementById("inpt").value = sum;
      
      document.getElementById("myForm").submit();
      
}


$('.cancel').click(function(){

    var idv= this.value.toString();
    
    document.getElementById("buy-"+idv).style.display="block";
    document.getElementById("cancel-"+idv).style.display="none";
    
    delete ids[idv];

    console.log(ids);
    
});

if(sessionStorage.getItem("ids")==null){
    var ids={};
}

$('.buy').click(function(){

    var idv= this.value.toString();
    
    document.getElementById("buy-"+idv).style.display="none";
    document.getElementById("cancel-"+idv).style.display="block";
    
    if(ids["id"]!=undefined){
        ids[idv]=ids[idv];
    }
    else{   
        ids[idv]=idv;
    }
   
    console.log(ids);
    
    document.getElementById("purchasebtn").style.visibility="visible";
       
});
        
        
</script>

{% endblock %}
